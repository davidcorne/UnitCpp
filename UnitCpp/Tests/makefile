#==============================================================================
TARGET = exe/utest.exe

CC_ARGS = -I../.. -std=c++0x -Wall -Werror
OBJECTS = $(shell find source -name "*.cpp" | sed -e 's:^source/:obj/:' -e 's:\.cpp$$:.obj:')

#==============================================================================
$(TARGET): $(OBJECTS)
	@mkdir -p exe
	g++ $(CC_ARGS) $^ -o $@

#==============================================================================
obj/%.obj: source/%.cpp
	@mkdir -p obj
	g++ $(CC_ARGS) -c $< -o $@

#==============================================================================
test: $(TARGET)
	./$<
